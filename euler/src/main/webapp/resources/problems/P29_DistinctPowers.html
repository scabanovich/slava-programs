<html>
  <head>
    <title>Distinct powers</title>
    <link rel="stylesheet" href="common.css"/>
    <script src="common.js"></script>
    <script>
		function insertPowers(aMax, bMax, targetTableId, targetListId) {
			var code = "";			
			var all = [];
			for (var a = 2; a <= aMax; a++) {
				code = code + "<p>";
				var pw = a;
				for (var b = 2; b <= bMax; b++) {
					pw = pw * a;
					if (b > 2) {
						code = code + ", ";
					}
					code = code + a + "<sup>" + b + "</sup> = " + pw;
					if (!all.includes(pw)) {
						all.push(pw);
					}
				}
				code = code + "</p>";
			}
			var all2 = all.sort((a,b) => a-b);
			common.out(code, targetTableId);
			common.out(all2.join(", "), targetListId);
		}
		
		function countDistinctTermsAndOut(aMax, bMax, targetId) {
			var all = [];
			for (var a = 2; a <= aMax; a++) {
				var pw = a;
				for (var b = 2; b <= bMax; b++) {
					pw = pw * a;
					if (!all.includes(pw)) {
						all.push(pw);
					}
				}
			}
			common.out(all.length, targetId);
		}
    
		function countDistinctTerms2AndOut(aMax, bMax, targetId) {
			var count = 0;
			for (var a = 2; a <= aMax; a++) {
				for (var b = 2; b <= bMax; b++) {
					var pw = a;
					var isnew = 1;
					for (var k = 2; k <= b && isnew == 1; k++) {
						pw = pw * a;
						if (pw > aMax) {
							break;
						}
						if (b % k == 0) {
						    isnew = 0;
						    break;
						}
					}
					count += isnew;
				}
			}
			common.out(count, targetId);
		}
    
    </script>
  </head>
  
  <body onload="common.addProblemHeader('problem29Title', 29); insertPowers(5, 5, 'powersTable', 'powersList');">
    <div id="problem29Title"></div>
    <div class="problemStatement">
      <p>Consider all integer combinations of <i>ab</i> for 2 &le; <i>a</i> &le; 5 and 2 &le; <i>b</i> &le; 5:</p>
      <div class="formulaIndent" id="powersTable"></div>
      <p>If they are then placed in numerical order, with any repeats removed, we get the following sequence of 15 distinct terms:</p>
      <div class="formulaIndent" id="powersList"></div>
      <p>How many distinct terms are in the sequence generated by <i>ab</i> for 2 &le; <i>a</i> &le; 100 and 2 &le; <i>b</i> &le; 100?</p>
    </div>

    <table style="border-spacing: 10px;">
      <tr><td colspan="5" style=""><b>Count distinct terms are in the sequence generated by <i>ab</i> for 2 &le; <i>a</i> &le; <i>aMax</i> and 2 &le; <i>b</i> &le; <i>bMax</i></b></td></tr>
      <tr><td>A max:</td> <td><input name="aMax" value="1" id="aMax"/></td><td></td> <td style="width: 250px;"></td></tr>
      <tr>
        <td>B max:</td> <td><input name="bMax" value="100" id="bMax"/></td>
        <td><button name="solve" onclick="countDistinctTermsAndOut(common.getInt('aMax'), common.getInt('bMax'), 'out1');">Solve</button></td>
        <td>Result: <span id="out1"></span></td>
        <td style="width: 250px;"></td>
      </tr>
    
    </table>

    <a href="Euler.html">Back</a>
  </body>
</html>