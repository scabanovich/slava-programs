<html>
  <head>
    <!-- Problem 44 -->
    <title>Pentagon numbers</title>
    <link rel="stylesheet" href="common.css"/>
    <script src="common.js"></script>
    <script type="text/javascript">
    	var pentagonalNumbersList = [];
    	var pentagonalNumbersSet = new Set();
    	
    	for (var n = 1; n < 30000; n++) {
    		var p = parseInt(n * (3 * n - 1) / 2);
    		pentagonalNumbersList.push(p);
    		pentagonalNumbersSet.add(p);
    	}
    	
		function solveAndOut(targetId) {
			var jBest = -1;
			var kBest = -1;
			var minDiff = -1;
			for (var k = 2; k < pentagonalNumbersList.length - 1; k++) {

				for (var j = k - 1; j > 1; j--) {
					var s = pentagonalNumbersList[j] + pentagonalNumbersList[k];
					if (s < pentagonalNumbersList[k+1]) {
						break;
					}
					var diff = pentagonalNumbersList[k] - pentagonalNumbersList[j];
					if (minDiff > -1 && diff > minDiff) {
						break;
					}
					if (pentagonalNumbersSet.has(s) && pentagonalNumbersSet.has(diff)) {
						minDiff = diff;
						jBest = j;
						kBest = k;
					}
				}
			}
			common.out("Result: " + minDiff + " = P(" + kBest + ") - P(" + jBest + ")" , targetId);
		}
    
    </script>  
  </head>
  
  <body onload="common.addProblemHeader('problem44Title', 44);">
    <div id="problem44Title"></div>
    <div class="problemStatement">
		<p>Pentagonal numbers are generated by the formula, <i>P<sub>n</sub>=n(3n-1)/2</i>. The first ten pentagonal numbers are:</p>
		<p class="formulaIndent">1, 5, 12, 22, 35, 51, 70, 92, 117, 145, ...</p>
		<p>It can be seen that P<sub>4</sub> + P<sub>7</sub> = 22 + 70 = 92 = P<sub>8</sub>. However, their difference, 70 - 22 = 48, is not pentagonal.</p>
		<p>Find the pair of pentagonal numbers, P<sub>j</sub> and P<sub>k</sub>, for which their sum and difference are pentagonal and D = |P<sub>k</sub> - P<sub>j</sub>| is minimised; what is the value of D?</p>
    </div>
    
    <table style="border-spacing: 10px;">
      <tr><td colspan="4"><b>Solve the problem</b></td></tr>
      <tr>
          <td></td>
          <td><button onclick="solveAndOut('out1')">Solve</button></td>
          <td><div id="out1"></div></td>
      </tr>

    
    </table>

    <a href="Euler.html">Back</a>
  </body>
</html>