<html>
  <head>
    <!-- Problem 49 -->
    <title>Prime permutations</title>
    <link rel="stylesheet" href="common.css"/>
    <script src="common.js"></script>
    <script src="js/permutations.js"></script>
    <script type="text/javascript">
    	var primes = new common.math.Primes(10000);

    	function isSequenceIncreasing(a) {
    		for (var i = 1; i < a.length; i++) {
    			if (a[i] < a[i - 1]) {
    				return false;
    			}
    		}
    		return true;
    	}

    	function solveAndOut(targetId) {
    		var result = "";
    		
    		for (var n = 1000; n < 10000; n++) {
    			var ds = common.math.getDigits(n);
    			if (isSequenceIncreasing(ds)) {
    				var ps = [];
    				while(true) {
    					var m = Permutations.toNumber(ds, 0, ds.length - 1);
    					if (m >= 1000 && primes.isPrime(m)) {
    						ps.push(m);
    					}
    					if (!Permutations.next(ds)) {
    						break;
    					}
	    			}
    				ps.sort();
    				if (ps.length >= 3) {
    					for (var i1 = 0; i1 < ps.length; i1++) {
    						var k1 = ps[i1];
        					for (var i2 = i1 + 1; i2 < ps.length; i2++) {
        						var k2 = ps[i2];
            					for (var i3 = i2 + 1; i3 < ps.length; i3++) {
            						var k3 = ps[i3];
            						if (2 * k2 == k1 + k3) {
            							result = result + "<p>" + k1 + " " + k2 + " " + k3 + "</p>";
            						}
            					}
        					}
    					}
    				}
    			}
    		}
    		
    		common.out(result, targetId);
    	}
    </script>  
  </head>
  
  <body onload="common.addProblemHeader('problem49Title', 49);">
    <div id="problem49Title"></div>
    <div class="problemStatement">
      <p>The arithmetic sequence, 1487, 4817, 8147, in which each of the terms increases by 3330, is unusual in two ways: (i) each of the three terms are prime, and, (ii) each of the 4-digit numbers are permutations of one another.</p>
      <p>There are no arithmetic sequences made up of three 1-, 2-, or 3-digit primes, exhibiting this property, but there is one other 4-digit increasing sequence.</p>
      <p>What 12-digit number do you form by concatenating the three terms in this sequence?</p>
    </div>
    
    <table style="border-spacing: 10px;">
      <tr><td colspan="4"><b>Solve the problem</b></td></tr>
      <tr>
          <td></td><td></td>
          <td><button id="b1" onclick="solveAndOut('out2')">Solve</button></td>
          <td><div id="out2"></div></td>
      </tr>
    
    </table>

    <a href="Euler.html">Back</a>
  </body>
</html>