<html>
  <head>
    <title>Project Euler</title>
    <style>
        table {
        	border: 1px solid gray;
        	border-spacing: 0;
        }
    	table td {
   			border-right: 1px solid gray;
   			padding: 2px;
 		}
    	table td:last-child {
   			border-right: none;
		}
    </style>
    <script src="common.js"></script>
    <script src="js/cookies.js"></script>
    <script type="text/javascript">
    	var data = [
    		{n: 14, name: "Longest Collatz Sequence",   path: "./LongestCollatzSequence.html"},
    		{n: 20, name: "Factorial Digit Sum",        path: "./FactorialDigitSum.html"},
    		{n: 23, name: "Non-abundant Sums",          path: "./NonAbundantSums.html"},
    		{n: 24, name: "Lexicographic permutations", path: "./LexicographicPermutations.html"},
    		{n: 25, name: "1000-digit Fibonacci number", path: "./P25_BigFibonacciNumber.html"},
    		{n: 26, name: "Reciprocal Cycles",          path: "./ReciprocalCycles.html"},
    		{n: 27, name: "Quadratic primes",           path: "./QuadraticPrimes.html"},
    		{n: 29, name: "Distinct powers",            path: "./P29_DistinctPowers.html"},
    		{n: 30, name: "Digit fifth powers",         path: "./P30_DigitFifthPowers.html"},
    		{n: 31, name: "Coin sums",                  path: "./P31_CoinSums.html"},
    		{n: 32, name: "Pandigital products",        path: "./P32_PandigitalProducts.html"},
    		{n: 34, name: "Digit factorials",           path: "./P34_DigitFactorials.html"},
    		{n: 35, name: "Circular primes",            path: "./P35_CircularPrimes.html"},
    		{n: 36, name: "Double-base palindromes",    path: "./P36_DoubleBasePalindromes.html"},
    		{n: 37, name: "Truncatable primes",         path: "./P37_TruncatablePrimes.html"},
    		{n: 38, name: "Pandigital multiples",       path: "./P38_PandigitalMultiples.html"},
    		{n: 40, name: "Champernowne's Constant",    path: "./P40_ChampernownesConstant.html"},
    		{n: 41, name: "Pandigital prime",           path: "./P41_PandigitalPrime.html"},
    		{n: 42, name: "Coded triangle numbers",     path: "./P42_CodedTriangleNumbers.html"},
    		{n: 43, name: "Sub-string divisibility",    path: "./P43_SubstringDivisibility.html"},
    		{n: 44, name: "Pentagon numbers",           path: "./P44_PentagonNumbers.html"},
    		{n: 45, name: "Triangular, pentagonal, and hexagonal",  path: "./P45_TriangularPentagonalHexagonal.html"},
    		{n: 46, name: "Goldbach's other conjecture",path: "./P46_GoldbachsOtherConjecture.html"},
    		{n: 47, name: "Distinct primes factors",    path: "./P47_DistinctPrimesFactors.html"},
    		{n: 48, name: "Self powers",                path: "./P48_SelfPowers.html"},
    		{n: 49, name: "Prime permutations",         path: "./P49_PrimePermutations.html"},
    		{n: 50, name: "Consecutive prime sum",      path: "./P50_ConsecutivePrimeSum.html"},
    		{n: 51, name: "Prime digit replacements",   path: "./P51_PrimeDigitReplacements.html"},
    		{n: 52, name: "Permuted multiples",         path: "./P52_PermutedMultiples.html"},
    		{n: 53, name: "Combinatoric selections",    path: "./P53_CombinatoricSelections.html"},
    		{n: 55, name: "Lychrel numbers",            path: "./P55_LychrelNumbers.html"},
    		{n: 56, name: "Powerful digit sum",         path: "./P56_PowerfulDigitSum.html"},
    		{n: 57, name: "Square root convergents",    path: "./P57_SquareRootConvergents.html"},
    		{n: 58, name: "Spiral primes",              path: "./P58_SpiralPrimes.html"},
    		{n: 59, name: "XOR decryption",             path: "./P59_XOR_Decryption.html"},
    		{n: 60, name: "Prime pair sets",            path: "./P60_PrimePairSets.html"},
    		{n: 61, name: "Cyclical figurate numbers",  path: "./P61_CyclicalFigurateNumbers.html"},
    		{n: 62, name: "Cubic permutations",         path: "./P62_CubicPermutations.html"},
    		{n: 63, name: "Powerful digit counts",      path: "./P63_PowerfulDigitCounts.html"},
    		{n: 64, name: "Odd period square roots",    path: "./P64_OddPeriodSquareRoots.html"},
    		{n: 65, name: "Convergents of e",           path: "./P65_ConvergentsOfE.html"},
    		{n: 69, name: "Totient maximum",            path: "./P69_TotientMaximum.html"},
			{n: 71, name: "Ordered fractions",			path: "./P71_OrderedFractions.html"},
			{n: 72, name: "Counting fractions",			path: "./P71_OrderedFractions.html?#problem72Title"},
			{n: 73, name: "Counting fractions in a range", path: "./P71_OrderedFractions.html?#problem73Title"},
			{n: 74, name: "Digit factorial chainss",	path: "./P74_DigitFactorialChains.html"},
			{n: 75, name: "Singular integer right triangles", path: "./P75_SingularIntegerRightTriangles.html"},
			{n: 76, name: "Counting summations", 		path: "./P76_CountingSummations.html"},
			{n: 77, name: "Prime summations",			path: "./P77_PrimeSummations.html"},
			{n: 78, name: "Coin partitions",			path: "./P76_CountingSummations.html?#problem78Title"},
			{n: 85, name: "Counting rectangles",		path: "./P85_CountingRectangles.html"},
			{n: 86, name: "Cuboid route",				path: "./P86_CuboidRoute.html"},

			
    	];
    	
    	var pageSize = 10;
    	var pageCount = parseInt((data.length + pageSize - 1) / pageSize);
    	var currentPage = getPageFromCookie();

    	function getPageFromCookie() {
    		var p = MyCookies.getCookie("page");
    		if (!p || p.length == 0) {
    			p = "0";
    		}
			console.log("getPage " + p);
    		return parseInt(p);
    	}
    	
    	function setColor(targetId, color, cursor) {
    		document.getElementById(targetId).style["color"] = color;
    		document.getElementById(targetId).style["cursor"] = cursor;
    	}
    	
    	function setCurrentPage(page, targetId, problemListId) {
    		console.log("targetId=" + targetId);
    		currentPage = page;
			console.log("setPage " + page);
    		MyCookies.setCookie("page", "" + page);
    		var p = MyCookies.getCookie("page");
			console.log("Page " + p);
    		fillPageButtons(targetId, problemListId);
    		fillProblemList(problemListId);
    	}
    	
    	function fillPageButtons(targetId, problemListId) {
    		var buttons = "";
    		for (var i = 0; i < pageCount; i++) {
    			var selected = i == currentPage;
    			var text = "";
    			if (selected) {
    				text = "<button><b>" + (i + 1) + "</b></button> ";
    			} else {
    				var onclick = 'setCurrentPage(' + i + ',"' + targetId + '","' + problemListId + '")';
    				text = "<button onclick='" + onclick + "'>" + (i + 1) + "</button> ";
    			}    			
    			buttons += text;
    		}
    		common.out(buttons, targetId);
    	}
 
		function insertRowWithProblemLink(n, name, path) {
//			return "<tr><td>" + n + "</td><td>" + '<a href="' + path + '">' + name + "</a></td></tr>";
			var onclick = "window.location.href='" + path + "'";
			var id = "div" + n;
			var onmouseenter = "setColor('" + id + "','blue', 'pointer');";
			var onmouseleave = "setColor('" + id + "','#557755', 'initial');";
			return "<tr><td height='30'><b style='font-size: 18'>" + n + "</b></td><td>" + 
					"<div id=" + '"' + id + '"' + " onclick=" + '"' + onclick + '"'
					+ " onmouseenter=" + '"' + onmouseenter + '"'
					+ " onmouseleave=" + '"' + onmouseleave + '"'
					+ "style='color: #557755; font-size: 17'"
					+ ">"+ name + "</div></td></tr>";
		}
		function fillProblemList(targetId) {
			var s = "";
			var from = currentPage * pageSize;
			var to = from + pageSize;
			for (var i = from; i < data.length && i < to; i++) {
				var row = data[i];
				s = s + '\n      ' + insertRowWithProblemLink(row.n, row.name, row.path);
			}
			s = s + '\n    ';
			common.out(s, targetId);
		}
    </script>
  </head>
  
  <body style="margin-left: 100" onload="setCurrentPage(getPageFromCookie(), 'pageButtons', 'problemList');">
    <h2>Project Euler</h2>
    <a href="projecteuler.net/about">About</a>
    <p></p>
    
    <!-- table template-->
    <!--table>
      <tr><td>14</td><td><a href="./LongestCollatzSequence.html">Longest Collatz Sequence</a></td></tr>
    </table-->
    <div id="pageButtons"></div>
    <p></p>
    <table id="problemList"></table>
    
  
  </body>

</html>
